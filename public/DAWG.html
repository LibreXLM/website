<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>DAWG – Reserve Meme Coin of the LIBRE Ecosystem</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Retro fonts (optional, same vibe as LIBRE site) -->
  <link rel="preconnect" href="httpshttps://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg: #090915;
      --bg-panel: #101425;
      --border: #5ff6ff;
      --accent: #ffb2f5;
      --accent-soft: rgba(255, 0, 180, .08);
      --text-main: #e8f3ff;
      --text-soft: #9fb3ca;
      --highlight: #fff7a3;
      --muted: #7a8898;
      --danger: #ff6680;
      --ok: #b2ffcb;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      background: radial-gradient(circle at top, #171733 0, #050510 55%);
      color: var(--text-main);
      font-family: 'VT323', monospace;
      font-size: 20px;
    }

    .page-wrap {
      max-width: 1040px;
      margin: 0 auto;
      padding: 16px;
    }

    .card {
      background: linear-gradient(180deg, rgba(7,7,14,.95), rgba(10,12,24,.96));
      border: 3px double var(--border);
      box-shadow:
        0 0 0 6px #231942,
        0 0 16px 4px rgba(0, 255, 230, .18),
        inset 0 0 24px 6px rgba(8, 12, 40, .9);
      padding: 18px 18px 20px;
      margin-top: 18px;
    }

    header {
      text-align: center;
      margin-bottom: 10px;
    }

    .badge {
      display: inline-block;
      margin: 0 4px 6px;
      padding: 3px 10px;
      border: 2px solid var(--accent);
      color: var(--accent);
      font-family: 'Press Start 2P', system-ui, sans-serif;
      font-size: 10px;
      text-transform: uppercase;
      background: var(--accent-soft);
      letter-spacing: 0.08em;
    }

    h1 {
      margin: 6px 0 0;
      font-family: 'Press Start 2P', system-ui, sans-serif;
      font-size: 20px;
      color: var(--highlight);
      text-shadow:
        0 0 4px #f0ff93,
        0 0 12px #5ff6ff;
    }

    .subtitle {
      margin-top: 8px;
      color: var(--text-soft);
      font-size: 18px;
    }

    .grid {
      display: grid;
      gap: 16px;
    }

    @media (min-width: 768px) {
      .grid-2 {
        grid-template-columns: 3fr 2fr;
      }
      .grid-3 {
        grid-template-columns: repeat(3, minmax(0, 1fr));
      }
    }

    section h2 {
      font-family: 'Press Start 2P', system-ui, sans-serif;
      font-size: 13px;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: #b2ffcb;
      margin: 0 0 12px;
    }

    p {
      margin: 6px 0 8px;
      color: var(--text-main);
    }

    .muted {
      color: var(--muted);
      font-size: 18px;
    }

    a {
      color: var(--accent);
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
      color: var(--ok);
    }

    /* Dashboard cards */
    .metric-card {
      background: rgba(6, 12, 30, .9);
      border: 2px solid var(--border);
      padding: 12px 12px 14px;
      box-shadow:
        0 0 10px rgba(0, 255, 230, .12),
        inset 0 0 16px rgba(0,0,0,.6);
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .metric-label {
      font-family: 'Press Start 2P', system-ui, sans-serif;
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: #ffd9b2;
    }

    .metric-value {
      font-size: 28px;
      line-height: 1.2;
      color: var(--highlight);
      word-break: break-word;
    }

    .metric-hint {
      font-size: 16px;
      color: var(--text-soft);
    }

    .note {
      margin-top: 10px;
      padding: 10px 12px;
      border: 2px dashed var(--accent);
      background: var(--accent-soft);
      color: var(--accent);
      font-size: 18px;
    }

    .data-row {
      margin-top: 8px;
      font-size: 18px;
    }

    .data-row code {
      font-size: 16px;
      background: rgba(0,0,0,.3);
      padding: 2px 4px;
      border-radius: 4px;
    }

    footer {
      margin: 26px 0 12px;
      text-align: center;
      color: var(--muted);
      font-size: 16px;
    }
  </style>
</head>
<body>
  <div class="page-wrap">
    <div class="card">
      <header>
        <div class="badge">$LIBRE Ecosystem</div>
        <div class="badge">DAWG Reserve Meme Coin</div>
        <h1>DAWG – Valor ex Motu</h1>
        <div class="subtitle">
          Experimental reserve-style meme coin &amp; store-of-value token on Stellar.
        </div>
      </header>

      <section>
        <h2>What is DAWG?</h2>
        <p>
          <strong>DAWG</strong> is an experimental <strong>reserve meme coin</strong> and
          <strong>store-of-value (SoV)</strong> token being built inside the
          <strong>LIBRE Trading Ecosystem</strong> on Stellar.
        </p>
        <p>
          The core idea: DAWG is designed to be economically backed by a growing on-chain Treasury,
          with the initial policy target of approximately
          <strong>1 DAWG backed by 1 LIBRE</strong>.
          Exact tokenomics, backing ratios and phase rules are still being refined and may evolve over time.
        </p>
        <p>
          New DAWGs are currently sold <strong>only for LIBRE</strong> on the
          <strong>Stellar DEX (SDEX)</strong>. LIBRE collected from DAWG sales
          does <em>not</em> go to a private wallet; instead it is intended to be used for:
        </p>
        <ul>
          <li><strong>LIBRE burns</strong> – reducing LIBRE’s circulating supply over time,</li>
          <li><strong>DAWG liquidity</strong> – seeding and deepening DAWG/LIBRE and other pools,</li>
          <li><strong>Treasury liquidity</strong> – building a reserve that backs every circulating DAWG.</li>
        </ul>
        <p>
          The <strong>DAWG max supply is capped at 5,000,000 tokens</strong>. The issuer account
          <strong>will be locked</strong> once the initial setup and early Treasury configuration
          are complete, so that minting and supply logic become as transparent and rule-based as possible.
        </p>
      </section>

      <section>
        <h2>Current State &amp; Distribution Principles</h2>
        <p>
          At this stage, DAWG is in an early, highly experimental phase. The guiding principles are:
        </p>
        <ul>
          <li><strong>Max Supply:</strong> 5,000,000 DAWG (no plans to increase this cap).</li>
          <li>
            <strong>Emission only against LIBRE:</strong> DAWGs are sold via SDEX sell orders
            for LIBRE, in small tranches.
          </li>
          <li>
            <strong>Treasury-first approach:</strong> new DAWG supply should only be released
            when the Treasury holds sufficient LIBRE (and later other assets) to support
            a targeted backing per DAWG.
          </li>
        </ul>
        <p class="muted">
          DAWG does <strong>not</strong> promise a fixed redemption price, profit,
          or guaranteed peg. The 1:1 LIBRE target is an economic policy goal for
          the Treasury, not a legally guaranteed claim.
        </p>
      </section>

      <section>
        <h2>DAWG Supply Dashboard (Live)</h2>

        <div class="grid grid-3">
          <!-- Max Supply -->
          <div class="metric-card">
            <div class="metric-label">Max Supply</div>
            <div id="max-supply" class="metric-value">5,000,000</div>
            <div class="metric-hint">Hard cap (planned) for total DAWG issuance.</div>
          </div>

          <!-- DAWG in LPs -->
          <div class="metric-card">
            <div class="metric-label">DAWG in Liquidity Pools</div>
            <div id="lp-supply" class="metric-value">loading…</div>
            <div class="metric-hint">
              Sum of DAWG reserves in Stellar liquidity pools (Horizon, Classic network).
            </div>
          </div>

          <!-- Circulating (rough) -->
          <div class="metric-card">
            <div class="metric-label">Circulating (rough estimate)</div>
            <div id="circ-supply" class="metric-value">170,000</div>
            <div class="metric-hint">
              Approximate DAWG currently exposed to the market,
              based on DAWG &lt;=&gt; LIBRE orders on the SDEX (≈ 170k LIBRE buy-side at the moment).
            </div>
          </div>
        </div>

        <div class="note">
          <strong>Note:</strong> All numbers are experimental and based on live on-chain data.
          Liquidity pool balances and circulating estimates can change at any time as new pools are created,
          trades execute, or DAWG/LIBRE offers are updated. This dashboard is informational only.
        </div>

        <div class="data-row">
          Reference data sources:
          <br />
          • Asset &amp; LP overview:
          <code>https://cleanshave.org/tool/asset-detail.html?code=DAWG&amp;issuer=GBVYKIM4QGW7NK3Q5S76GWMZMLAWYB6FB43JQ4J7ZOXHAA3LEZZGYHSD</code>
          <br />
          • DAWG/LIBRE market (for circulating approximation):
          <code>https://stellar.expert/explorer/public/asset/DAWG-GBVYKIM4QGW7NK3Q5S76GWMZMLAWYB6FB43JQ4J7ZOXHAA3LEZZGYHSD-1?filter=markets&amp;market=LIBRE-GAYCCWKECNGDRHYU3UTREBD2XLC3CUQN6FV22TKM4WCQER3IWR7TF5CY-2</code>
        </div>
      </section>

      <section>
        <h2>Disclaimer</h2>
        <p class="muted">
          DAWG is an experimental crypto asset. There is <strong>no guarantee of a fixed 1:1 peg</strong> to LIBRE,
          and no promise of redemption, profit, or price stability. Any “backing” is an economic and treasury
          policy target, not a legal claim. Always do your own research and never risk funds you cannot afford to lose.
        </p>
      </section>

      <footer>
        <div>DAWG – Reserve Meme Coin of the LIBRE Trading Ecosystem</div>
        <div><small>“Valor ex Motu” – Value from Movement.</small></div>
      </footer>
    </div>
  </div>

  <script>
    // --- Basic config ---
    const MAX_SUPPLY = 5_000_000;
    const ESTIMATED_CIRCULATING = 170_000; // Based on current DAWG/LIBRE orderbook context

    // DAWG asset on Stellar Classic
    const DAWG_CODE   = "DAWG";
    const DAWG_ISSUER = "GBVYKIM4QGW7NK3Q5S76GWMZMLAWYB6FB43JQ4J7ZOXHAA3LEZZGYHSD";

    // Horizon endpoint to discover all liquidity pools that include DAWG as one of the reserves.
    // Docs: GET /liquidity_pools?reserves={assetA},{assetB}
    // For a single asset, you can query reserves=DAWG:ISSUER and sum its share.
    const HORIZON_LP_URL = (() => {
      const reservesParam = encodeURIComponent(DAWG_CODE + ":" + DAWG_ISSUER);
      // limit=200 to be safe if many pools exist
      return "https://horizon.stellar.org/liquidity_pools?reserves=" + reservesParam + "&limit=200";
    })();

    const maxSupplyEl = document.getElementById("max-supply");
    const lpSupplyEl  = document.getElementById("lp-supply");
    const circSupplyEl = document.getElementById("circ-supply");

    function formatNumber(x) {
      return x.toLocaleString("en-US", {
        minimumFractionDigits: 0,
        maximumFractionDigits: 2
      });
    }

    async function fetchDawgLpFromHorizon() {
      try {
        const res = await fetch(HORIZON_LP_URL, { cache: "no-store" });
        if (!res.ok) {
          throw new Error("HTTP " + res.status);
        }
        const data = await res.json();

        // Horizon format (simplified):
        // {
        //   "_embedded": {
        //     "records": [
        //       {
        //         "reserves": [
        //            { "asset": "native", "amount": "..." },
        //            { "asset": "credit_alphanum4", "asset_code": "DAWG", "asset_issuer": "...", "amount": "..." }
        //         ],
        //         ...
        //       },
        //       ...
        //     ]
        //   }
        // }
        let totalDawgInPools = 0;

        if (data && data._embedded && Array.isArray(data._embedded.records)) {
          for (const pool of data._embedded.records) {
            if (!Array.isArray(pool.reserves)) continue;
            for (const r of pool.reserves) {
              if (
                r.asset_code === DAWG_CODE &&
                r.asset_issuer === DAWG_ISSUER &&
                typeof r.amount === "string"
              ) {
                const amt = parseFloat(r.amount);
                if (!Number.isNaN(amt)) {
                  totalDawgInPools += amt;
                }
              }
            }
          }
        }

        if (totalDawgInPools === 0) {
          lpSupplyEl.textContent = "0";
        } else {
          lpSupplyEl.textContent = formatNumber(totalDawgInPools);
        }
      } catch (err) {
        console.error("Failed to load DAWG LP data from Horizon", err);
        lpSupplyEl.textContent = "n/a";
        lpSupplyEl.style.color = "#ff6680";
      }
    }

    function initDashboard() {
      maxSupplyEl.textContent = formatNumber(MAX_SUPPLY);
      circSupplyEl.textContent = formatNumber(ESTIMATED_CIRCULATING);
      lpSupplyEl.textContent = "loading…";

      fetchDawgLpFromHorizon();
    }

    document.addEventListener("DOMContentLoaded", initDashboard);
  </script>
</body>
</html>
